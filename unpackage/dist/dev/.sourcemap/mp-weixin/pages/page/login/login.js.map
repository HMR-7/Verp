{"version":3,"sources":["webpack:////Users/hmr/Desktop/云课堂/verp/main.js","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue?fc20","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue?fd4c","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue?dbae","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue?cb08","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue?8786","webpack:////Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue?d581"],"names":["createPage","Page","data","openid","userPhone","userName","userCode","code","PhoneCode","ischecked","userRes","time","timeStart","content","isFoucs","isCodeActive","isConfirmActive","ifEnd","computed","endVal","t","Number","Boolean","watch","newVal","oldVal","console","log","onPullDownRefresh","created","authSetting_userInfo","uni","getStorageSync","userInfo","onLoad","methods","getCode","login","provider","success","res","getUserChart","errMsg","js_code","$utils","ajax","$api","getOpenid","setStorageSync","us","Object","assign","isAdmin","showToast","setTimeout","hideToast","switchTab","url","msg","nickName","insertuserInfo","id","getUserInfo","e","getSetting","detail","getNumberLength","phone","length","toSend","checkPhone","i","radom","Math","floor","random","block","clock","setInterval","clearInterval","clearTimeout","toLogin","checkCode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,iG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAk1B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;mICAt2B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,YAAM,EAAE,EADH,EACO;AACZC,eAAS,EAAE,EAFN,EAEU;AACfC,cAAQ,EAAE,EAHL,EAGS;AACdC,cAAQ,EAAE,EAJL,EAIS;AACdC,UAAI,EAAE,EALD,EAKK;AACVC,eAAS,EAAE,EANN;AAOLC,eAAS,EAAE,IAPN,EAOY;AACjBC,aAAO,EAAE,EARJ,EAQQ;AACbC,UAAI,EAAE,EATD,EASK;AACVC,eAAS,EAAE,IAVN,EAUY;AACjBC,aAAO,EAAE,OAXJ;AAYLC,aAAO,EAAE,CAZJ,E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","file":"pages/page/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/page/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=2ce6ea7c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/hmr/Desktop/云课堂/verp/pages/page/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=2ce6ea7c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isFoucs = 1\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isFoucs = 0\n    }\n\n    _vm.e2 = function($event) {\n      _vm.isFoucs = 3\n    }\n\n    _vm.e3 = function($event) {\n      _vm.isFoucs = 0\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      openid: \"\", //用户openId\n      userPhone: \"\", //用户手机号\n      userName: \"\", //用户名\n      userCode: \"\", //验证码\n      code: \"\", //登录code码\n      PhoneCode: \"\",\n      ischecked: true, //是否显示授权按钮\n      userRes: \"\", //授权后获取的用户信息\n      time: 20, //验证码倒计时时间\n      timeStart: true, //防止发送重复点击\n      content: \"发送验证码\",\n      isFoucs: 0, //选择input框时，显示下划线样式\n      isCodeActive: 0, //验证码按钮是否被启用\n      isConfirmActive: 0, //登录按钮是否被启用\n      ifEnd: \"\" //监听2个input框是否都含有值\n    };\n  },\n  computed: {\n    endVal: function() {\n      let t = this;\n      t.ifEnd =\n        // Number(Boolean(t.userName)) +\n        Number(Boolean(t.userPhone)) + Number(Boolean(t.userCode));\n    }\n  },\n  watch: {\n    ifEnd(newVal, oldVal) {\n      let t = this;\n      if (Number(newVal) === 2) {\n        t.isConfirmActive = 1;\n        console.log(t.isConfirmActive, \"t.isConfirmActive\");\n      } else {\n        t.isConfirmActive = 0;\n      }\n    }\n  },\n  onPullDownRefresh() {},\n  created() {\n    let t = this;\n    let authSetting_userInfo = uni.getStorageSync(\"authSetting.userInfo\");\n    let userInfo = uni.getStorageSync(\"userInfo\");\n    t.userInfo = userInfo;\n    console.log(authSetting_userInfo, \"------\");\n    console.log(userInfo);\n  },\n  onLoad() {\n    let t = this;\n    // t.getCode();\n    // t.getUserChart();\n  },\n  methods: {\n    /* 获取code码并且检查是否注册进表 */\n    getCode() {\n      let t = this;\n      uni.login({\n        provider: \"weixin\",\n        success: res => {\n          console.log(res, \"res\");\n          if (res.code) {\n            console.log(t.code, \"t.code\");\n            t.code = res.code;\n            t.getUserChart();\n          } else {\n            console.log(\"登录失败\", res.errMsg);\n          }\n        }\n      });\n    },\n    /* 获取用户表，检查是否存在、是否要向数据库插入数据 */\n    getUserChart() {\n      let t = this;\n      let data = {\n        js_code: t.code\n      };\n      t.$utils.ajax(t.$api.getOpenid, \"get\", data, res => {\n        console.log(res, \"获取openid\");\n        t.openid = res.openid;\n        uni.setStorageSync(\"openid\", res.openid);\n        let data = {\n          openid: res.openid\n        };\n        t.$utils.ajax(t.$api.userInfo, \"get\", data, res => {\n          console.log(res, \"用户表信息\");\n          let us = t.userRes;\n          us = Object.assign(us, res);\n          uni.setStorageSync(\"userInfo\", us);\n          console.log(res.openid, \"用户openid\");\n          uni.setStorageSync(\"isAdmin\", res.isAdmin);\n          if (res.openid) {\n            console.log(\"用户已经存在\");\n            t.$utils.showToast(\"验证通过\");\n            setTimeout(() => {\n              uni.hideToast();\n              uni.switchTab({\n                url: \"../index/index\"\n              });\n            }, 1000);\n            return;\n          } else if (res.msg == false) {\n            let nickName = uni.getStorageSync(\"userInfo\").nickName;\n            let data = {\n              openid: t.openid,\n              userName: nickName,\n              userPhone: t.userPhone\n            };\n            t.$utils.ajax(t.$api.insertuserInfo, \"post\", data, res => {\n              console.log(res, \"用户插入表后的返回信息\");\n              uni.setStorageSync(\"UserId\", res[0].id);\n              uni.switchTab({\n                url: \"../index/index\"\n              });\n            });\n            console.log(t.userRes);\n          }\n        });\n      });\n    },\n    /* 授权登录 */\n    getUserInfo(e) {\n      let t = this,\n        authSetting_userInfo = uni.getStorageSync(\"authSetting.userInfo\");\n      if (authSetting_userInfo == true) return;\n      this.$utils.getSetting(() => {\n        let t = this,\n          authSetting_userInfo = uni.getStorageSync(\"authSetting.userInfo\");\n        console.log(authSetting_userInfo, \"授权信息\");\n        if (authSetting_userInfo == false) {\n          t.$utils.showToast(\"授权失败\");\n          t.ischecked = true;\n          return;\n        } else {\n          t.$utils.showToast(\"授权成功\");\n          t.userRes = e.detail.userInfo;\n          uni.setStorageSync(\"userInfo\", t.userRes);\n          t.ischecked = false;\n          t.getNumberLength(t.userPhone);\n        }\n      });\n    },\n    /* 获取手机号长度 */\n    getNumberLength(phone) {\n      let t = this,\n        authSetting_userInfo = uni.getStorageSync(\"authSetting.userInfo\");\n      t.userPhone = phone;\n      console.log(t.userPhone, \"用户手机号\");\n      if (phone.length == 11 && t.timeStart == true) {\n        t.isCodeActive = 1;\n        return;\n      }\n      if (\n        phone.length == 11 &&\n        (!authSetting_userInfo || authSetting_userInfo == false) &&\n        t.time == 0\n      ) {\n        t.isCodeActive = 1;\n        return;\n      } else {\n        t.isCodeActive = 0;\n      }\n    },\n    /* 发送验证码 */\n    toSend() {\n      let t = this;\n      if (t.isCodeActive == 0) {\n        console.log(t.isCodeActive, \"1111\");\n        return;\n      }\n      if (t.$utils.checkPhone(t.userPhone) == false) {\n        console.log(11111);\n        return;\n      }\n      for (var i = 0; i < 6; i++) {\n        var radom = Math.floor(Math.random() * 10);\n        console.log(radom);\n        t.PhoneCode += radom;\n      }\n      console.log(t.PhoneCode, \"PhoneCode\");\n\n      t.$utils.showToast(\"您的验证码:\" + t.PhoneCode);\n      if (!t.timeStart) return; //防止重复点击\n      t.timeStart = false;\n      let block = setTimeout(() => {\n        t.isCodeActive = 0;\n      }, 1000);\n      let clock = setInterval(() => {\n        t.time--;\n        t.content = t.time + \"s后再试\";\n        if (t.time < 0) {\n          //当倒计时小于0时清除定时器\n          clearInterval(clock);\n          clearTimeout(block);\n          t.content = \"重发验证码\";\n          t.time = 20;\n          t.timeStart = true;\n          t.PhoneCode = \"\";\n          t.isCodeActive = 1;\n          t.getNumberLength(t.userPhone);\n          console.log(t.isCodeActive);\n        }\n      }, 1000);\n    },\n    /* 验证登录 */\n    toLogin(phone, code) {\n      let t = this,\n        authSetting_userInfo = uni.getStorageSync(\"authSetting.userInfo\"),\n        userInfo = uni.getStorageSync(\"userInfo\");\n      console.log(phone, \"phonephonephone\");\n      console.log(code, \"codecodecode\");\n\n      console.log(userInfo);\n      if (!authSetting_userInfo || authSetting_userInfo == false) {\n        t.$utils.showToast(\"请先授权登录\");\n        return;\n      }\n      if (phone == \"\" || code == \"\") {\n        t.$utils.showToast(\"登录信息不全\");\n        return;\n      }\n      if (code != t.PhoneCode) {\n        t.$utils.showToast(\"验证码错误\");\n        return;\n      }\n      if (t.$utils.checkPhone(phone) && t.$utils.checkCode(code)) {\n        t.getCode();\n      }\n    }\n  }\n};\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588900403872\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}